{"version":3,"file":"AndroidAction.js","sourceRoot":"","sources":["../src/AndroidAction.ts"],"names":[],"mappings":"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","sourcesContent":["import invariant from 'invariant';\nimport RemoteInput, { fromNativeAndroidRemoteInput } from './AndroidRemoteInput';\nimport { NativeAndroidAction, SemanticAction } from './types';\n\nexport default class AndroidAction {\n  _action: string;\n\n  _allowGeneratedReplies?: boolean;\n\n  _icon: string;\n\n  _remoteInputs: RemoteInput[];\n\n  _semanticAction?: SemanticAction;\n\n  _showUserInterface?: boolean;\n\n  _title: string;\n\n  constructor(action: string, icon: string, title: string) {\n    this._action = action;\n    this._icon = icon;\n    this._remoteInputs = [];\n    this._showUserInterface = true;\n    this._title = title;\n  }\n\n  get action(): string {\n    return this._action;\n  }\n\n  get allowGeneratedReplies(): boolean | undefined {\n    return this._allowGeneratedReplies;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  get remoteInputs(): RemoteInput[] {\n    return this._remoteInputs;\n  }\n\n  get semanticAction(): SemanticAction | undefined {\n    return this._semanticAction;\n  }\n\n  get showUserInterface(): boolean | undefined {\n    return this._showUserInterface;\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  /**\n   *\n   * @param remoteInput\n   * @returns {AndroidAction}\n   */\n  addRemoteInput(remoteInput: RemoteInput): AndroidAction {\n    invariant(\n      remoteInput instanceof RemoteInput,\n      `AndroidAction:addRemoteInput expects an 'RemoteInput' but got type ${typeof remoteInput}`\n    );\n    this._remoteInputs.push(remoteInput);\n    return this;\n  }\n\n  /**\n   *\n   * @param allowGeneratedReplies\n   * @returns {AndroidAction}\n   */\n  setAllowGenerateReplies(allowGeneratedReplies: boolean): AndroidAction {\n    this._allowGeneratedReplies = allowGeneratedReplies;\n    return this;\n  }\n\n  /**\n   *\n   * @param semanticAction\n   * @returns {AndroidAction}\n   */\n  setSemanticAction(semanticAction: SemanticAction): AndroidAction {\n    invariant(\n      Object.values(SemanticAction).includes(semanticAction),\n      `AndroidAction:setSemanticAction Invalid Semantic Action: ${semanticAction}`\n    );\n    this._semanticAction = semanticAction;\n    return this;\n  }\n\n  /**\n   *\n   * @param showUserInterface\n   * @returns {AndroidAction}\n   */\n  setShowUserInterface(showUserInterface: boolean): AndroidAction {\n    this._showUserInterface = showUserInterface;\n    return this;\n  }\n\n  build(): NativeAndroidAction {\n    invariant(this._action, 'AndroidAction: Missing required `action` property');\n    invariant(this._icon, 'AndroidAction: Missing required `icon` property');\n    invariant(this._title, 'AndroidAction: Missing required `title` property');\n    return {\n      action: this._action,\n      allowGeneratedReplies: this._allowGeneratedReplies,\n      icon: this._icon,\n      remoteInputs: this._remoteInputs.map(remoteInput => remoteInput.build()),\n      semanticAction: this._semanticAction,\n      showUserInterface: this._showUserInterface,\n      title: this._title,\n    };\n  }\n}\n\nexport const fromNativeAndroidAction = (nativeAction: NativeAndroidAction): AndroidAction => {\n  const action = new AndroidAction(nativeAction.action, nativeAction.icon, nativeAction.title);\n  if (nativeAction.allowGeneratedReplies) {\n    action.setAllowGenerateReplies(nativeAction.allowGeneratedReplies);\n  }\n  if (nativeAction.remoteInputs) {\n    nativeAction.remoteInputs.forEach(remoteInput => {\n      action.addRemoteInput(fromNativeAndroidRemoteInput(remoteInput));\n    });\n  }\n  if (nativeAction.semanticAction) {\n    action.setSemanticAction(nativeAction.semanticAction);\n  }\n  if (nativeAction.showUserInterface) {\n    action.setShowUserInterface(nativeAction.showUserInterface);\n  }\n\n  return action;\n};\n"]}